# functions
Μια συνάρτηση είναι ένα σύνολο εντολών, το οποίο ονομάζεται σώμα. Η `main` είναι
η κύρια συνάρτηση ενός προγράμματος στην C. Είναι η πρώτη συνάρτηση που καλείται,
δηλαδή είναι η πρώτη συνάρτηση της οποίας το σώμα εκτελείται.
```c
int main() {

    return 0;
}
```
[img][image highlighting `int` and `0` with a box and a comment saying that the
returned value, `0`, is an integer, `int`]

Η συνάρτηση `main` επιστρέφει μια τιμή όταν τερματίζει. Μπορούμε να δούμε τι τιμή
επιστρέφει στο σύστημα με τα εξής βήματα:
1. Έστω ότι το πρόγραμμα λέγεται `test.c`. Μπορούμε να το κάνουμε compile με το
gcc: `gcc test.c`
2. Tρέxουμε το binary `./a.out`
3. Τρέχουμε `echo $?` που μας δείχνει την τιμή που επέστρεψε το τελευταίο
πρόγραμμα.

```
0
```
Βλέπουμε ότι εμφανίζει `0`. Αυτό γίνεται χάρη στην εντολή `return 0;`. Μπορούμε να
επιβάλουμε στο πρόγραμμα να τρέξει λανθασμένα:
```c
int arr[5];  // array of length 5
// initillizes values for the first 100 elements instead of 5
for (int i=0; i<100; i++) {
        arr[i] = 10;
}
return 0;
```
Το παραπάνω πρόγραμμα ενώ γίνεται compiled χωρίς κανένα πρόβλημα, όταν το τρέχουμε
εμφανίζει error:
```
*** stack smashing detected ***: terminated
Aborted (core dumped)
```
Και εάν δούμε την τιμή που επέστρεψε παρατηρούμε ότι δεν είναι 0:
```
echo $?
```
```
134
```
Αυτό σημαίνει οτι το πρόγραμμα τερμάτισε νωρίς, πριν προλάβει να φτάσει στην
εντολή `return 0;`

Για να δημιουργήσουμε μια δικιά μας συνάρτηση πρέπει αρχικά να την κάνουμε
declare **πριν** από την `main`, και μετά να την κάνουμε define (δηλαδή να
ορίσουμε το σώμα της) κατά σύμβαση μετά την `main`.

```c
// function declaration
int fetch5();

// main function
int main() {

    return 0;
}

// function definition
int fetch5() {
    printf("fetch5 has been called!\n");
    return 5;
}
```
*Παρατήρηση: δηλώσαμε την συνάρτηση έτσι ώστε να επιστρέφει `int`, όπως και η `main`*

Το μόνο που κάνει αυτή η συνάρτηση είναι να γράφει ότι κλήθηκε και να επιστρέφει
`5`.